import{_ as K,B as V,r as g,o as Y,C as E,D as M,b as y,c,d as n,e as u,f as s,h as N,t as l,u as e,l as U,j as z,p as C,F as k,i as B,E as F,G as S,I as v,H as G,J as x,K as H,x as Q,y as W,z as D,L as P,A as X,M as L,N as Z}from"./index.c7555ed6.js";import{a as $}from"./cart.7af03791.js";var q="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABIAAAASCAYAAABWzo5XAAAAAXNSR0IArs4c6QAAAXRJREFUOE+NlO1ZwzAMhF9lAdoNygTABHQDYIMyAK03oJ0AJwvQbgAbdIQwAWGDdIGIx46Tuvl66p+WfNLpThYmjhpWKBufoljJOIylSzeghkV4vAJmnXgJ7BFSsRRxrAVSwz3KB7Cc6jKKfSHsxJK7uzPQmiPC45UgdZryLRnPLVCg8zsIouz8vfA+GBduHU3fka6xSBhqN1uY+6uKAuGmB6akkmEaoHIk6SAZbuiu2Hakq1JS5hIk/mwrOSoJR6BsBtnEvCBOycoLYtriwqvomhzhrgVyl5b9pL/eMCRe4ebkfaB6sINgapihuO69UhGLnz61Jio8xNTUsPSUhtRzhcMge8OW9MJjloTcUdYN2unmJBmzYfmVP8lYBLc7KoWkvISil8a9kL/er9iQOep3ahvtW4F6Czg7nNcoNuRgpSnZWj90VsQDOY9UvuLTNRhuz0jY9pY2Mt2CCgOsem5XTv4bSbCj38hQF971NSjh8ahR/wGGKZMrx31XHQAAAABJRU5ErkJggg==";const t=f=>(W("data-v-dba25004"),f=f(),D(),f),ss={class:"courseContainer"},es={class:"courseInfoTop"},ts={class:"info-container"},os={class:"route"},as={class:"route-item",style:{cursor:"pointer"}},cs={class:"route-item"},ns={class:"route-item",style:{cursor:"pointer"}},is={class:"route-item"},ls={class:"route-item"},ds={class:"name"},rs={class:"info"},_s=t(()=>s("div",{class:"Avat"},[s("img",{src:P,alt:""})],-1)),us={class:"teacherName"},hs={class:"name-item"},ms=t(()=>s("img",{src:q,alt:""},null,-1)),vs=t(()=>s("li",{class:"name-item"},"\u91D1\u724C\u8BB2\u5E08",-1)),ps={class:"access"},fs=t(()=>s("li",{class:"access-item"},"\u96BE\u5EA6",-1)),As={class:"access-item"},gs=t(()=>s("li",{class:"access-item"},"\xB7",-1)),Cs=t(()=>s("li",{class:"access-item"},"\u65F6\u957F",-1)),ks={class:"access-item"},Is=t(()=>s("li",{class:"access-item"},"\xB7",-1)),bs=t(()=>s("li",{class:"access-item"},"\u5B66\u4E60\u4EBA\u6570",-1)),ys={class:"access-item"},Ns=t(()=>s("li",{class:"access-item"},"\xB7",-1)),Bs=t(()=>s("li",{class:"access-item"},"\u7EFC\u5408\u8BC4\u5206",-1)),Ss=t(()=>s("li",{class:"access-item"},"10.00",-1)),Rs={class:"info-nav"},ws={class:"nav-container"},Us={key:0,class:"course"},zs={class:"main"},xs=t(()=>s("div",{class:"desc"}," \u8BE5\u8BFE\u7A0B\u6682\u65E0\u4ECB\u7ECD ",-1)),Ls=t(()=>s("button",{class:"btn-item active"},"\u7ACB\u5373\u8D2D\u4E70",-1)),Js={class:"chapterName"},Os={class:"chapterDesc"},Ts={class:"videos"},js=t(()=>s("div",{class:"video-itemIcon"},[s("i",{class:"el-icon-video-camera"})],-1)),Ks={class:"item-name"},Vs=t(()=>s("span",{class:"shipin"},"\u89C6\u9891\uFF1A",-1)),Ys={class:"chapterName"},Es={key:0,class:"free"},Ms=["onClick"],Fs=t(()=>s("div",{class:"clearfloat"},null,-1)),Gs={key:1},Hs={key:0},Qs={class:"source"},Ws={class:"downloadCourse"},Ds=["onClick"],Ps={key:1},Xs={__name:"CourseInfo",setup(f){let{courseTypeFn:J}=X(),R=V().params.id,i=g(!0),I=g([]),w=g([]),r=g({});Y(()=>{E({courseId:R}).then(o=>{r.value=o.data.data,I.value=o.data.data.bizCourseAttachments,w.value=o.data.data.bizCourseChapters})});let b=M();const O=o=>{if(!S().token){v.info({message:"\u8BF7\u5148\u767B\u5F55"}),b.push("/login");return}L({courseId:o.courseId}).then(d=>{if(!d.data.data.hasAuth){v.info({message:"\u8D2D\u4E70\u8BE5\u8BFE\u7A0B\u624D\u53EF\u4EE5\u4E0B\u8F7D\u8D44\u6599"});return}Z({courseId:o.courseId,attachmentId:o.id}).then(h=>{const A=new Blob([h]);let p=o.attachmentName,a=o.attachmentUrl;const m=a.substring(a.lastIndexOf("."));p=p+m;const _=document.createElement("a");_.download=p,_.target="_blank",_.style.display="none",_.href=URL.createObjectURL(A),document.body.appendChild(_),_.click(),URL.revokeObjectURL(_.href),document.body.removeChild(_)})})},T=(o,d)=>{if(!S().token){v.info({message:"\u8BF7\u5148\u767B\u5F55"}),b.push("/login");return}L({courseId:o.courseId}).then(h=>{if(!h.data.data.hasAuth){v.info({message:"\u8D2D\u4E70\u8BE5\u8BFE\u7A0B\u624D\u53EF\u4EE5\u4E0B\u8F7D\u8D44\u6599"});return}b.push({path:"/course-play/"+o.courseId+"/"+d})})},j=()=>{F().then(o=>{let d=o.data.token;$({courseId:R,memberId:S().userInfo.id},d).then(h=>{if(h.meta.code=="200"){v.success({message:"\u52A0\u5165\u8D2D\u7269\u8F66\u6210\u529F\uFF5E"});return}else v.info({message:"\u6DFB\u52A0\u5931\u8D25\uFF5E\u8BE5\u8BFE\u7A0B\u5DF2\u7ECF\u5728\u8D2D\u7269\u8F66\u4E2D\u4E86!"})})})};return(o,d)=>{const h=y("router-link"),A=y("el-icon"),p=y("el-empty");return c(),n(k,null,[u(G),s("div",ss,[s("div",es,[s("div",ts,[s("ul",os,[s("li",as,[u(h,{to:"/course",style:{color:"#fff"}},{default:N(()=>[U("\u8BFE\u7A0B")]),_:1})]),s("li",cs,[u(A,null,{default:N(()=>[u(e(x))]),_:1})]),s("li",ns,l(e(r).discountPrice==0?"\u514D\u8D39\u8BFE":"\u4F1A\u5458\u8BFE"),1),s("li",is,[u(A,null,{default:N(()=>[u(e(x))]),_:1})]),s("li",ls,l(e(r).courseName),1)]),s("div",ds,l(e(r).courseName),1),s("div",rs,[_s,s("ul",us,[s("li",hs,[U(l(e(r).courseName)+" ",1),ms]),vs]),s("ul",ps,[fs,s("li",As,l(e(J)(e(r).courseLevel)),1),gs,Cs,s("li",ks,l(e(r).totalHour)+"\u4E2A\u5C0F\u65F6",1),Is,bs,s("li",ys,l(e(r).purchaseCounter+e(r).purchaseCnt)+"\u4EBA",1),Ns,Bs,Ss])])])]),s("div",Rs,[s("div",ws,[s("div",{class:"chapter-item",onClick:d[0]||(d[0]=a=>z(i)?i.value=!0:i=!0)},[s("div",{class:C(e(i)?"active1":"")},"\u7AE0\u8282",2),s("div",{class:C(["line",e(i)?"active2":""])},null,2)]),s("div",{class:"chapter-item",onClick:d[1]||(d[1]=a=>z(i)?i.value=!1:i=!1)},[s("div",{class:C(e(i)?"":"active1")},"\u4E0B\u8F7D\u8D44\u6599",2),s("div",{class:C(["line",e(i)?"":"active2"])},null,2)])])]),e(i)?(c(),n("div",Us,[s("div",zs,[s("div",{class:"introduction"},[xs,s("div",{class:"btn"},[Ls,s("button",{class:"btn-item",onClick:j},"\u52A0\u5165\u8D2D\u7269\u8F66")])]),(c(!0),n(k,null,B(e(w),a=>(c(),n("div",{class:"video",key:a.id},[s("div",Js,l(a.chapterName),1),s("div",Os,l(a.description),1),s("ul",Ts,[(c(!0),n(k,null,B(a.children,m=>(c(),n("li",{class:"video-item",key:m.id},[js,s("div",Ks,[Vs,s("span",Ys,l(m.chapterName),1),m.publicType==2?(c(),n("span",Es,"\u8BD5\u770B")):H("",!0)]),s("button",{class:"btn-learn",onClick:_=>T(a,m.id)},"\u5F00\u59CB\u5B66\u4E60",8,Ms),Fs]))),128))])]))),128))])])):(c(),n("div",Gs,[e(I).length>0?(c(),n("div",Hs,[(c(!0),n(k,null,B(e(I),a=>(c(),n("div",{class:"down",key:a.id},[s("div",Qs,[s("span",Ws,l(a.attachmentName),1),s("button",{class:"downloadbtn",onClick:m=>O(a)},"\u4E0B\u8F7D\u8D44\u6599",8,Ds)])]))),128))])):(c(),n("div",Ps,[u(p,{description:"\u8BE5\u8BFE\u7A0B\u6682\u65E0\u8D44\u6599"})]))]))]),u(Q)],64)}}};var se=K(Xs,[["__scopeId","data-v-dba25004"]]);export{se as default};
